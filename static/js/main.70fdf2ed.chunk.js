(this["webpackJsonpreact-user-presense-app"]=this["webpackJsonpreact-user-presense-app"]||[]).push([[0],{28:function(e,a,t){e.exports=t(49)},33:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},37:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},49:function(e,a,t){"use strict";t.r(a);var r=t(0),s=t.n(r),n=t(25),l=t.n(n),i=(t(33),t(34),t(27)),c=t(3),m=(t(35),t(2)),o=t.n(m),p=t(5),d=t(15),u=(t(37),t(4)),f=t(12),E=t.n(f);t(38),t(40);E.a.initializeApp({apiKey:"AIzaSyBpC_Pkb8329gkASdlGV_Y49jUr0J8kR8U",authDomain:"user-presence-app.firebaseapp.com",databaseURL:"https://user-presence-app.firebaseio.com",projectId:"user-presence-app",storageBucket:"user-presence-app.appspot.com",messagingSenderId:"770967970498",appId:"1:770967970498:web:b411dc43cbaf866ae0115b",measurementId:"G-XC4NSBS2CF"});var h=E.a.auth(),v=(E.a.firestore(),E.a,function(){var e=Object(d.a)(),a=e.handleSubmit,t=e.errors,r=e.register,n=e.watch,l=e.reset,i=function(){var e=Object(p.a)(o.a.mark((function e(a){var t,r,s,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.email,r=a.password,s=a.fullName,console.log(a),e.prev=2,e.next=5,h.createUserWithEmailAndPassword(t,r);case 5:return n=e.sent,i=n.user,e.next=9,i.updateProfile({displayName:s});case 9:console.log(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:l();case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(a){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"form-container"},s.a.createElement("div",{className:"form-title"},"I do not have an account"),s.a.createElement("div",{className:"form-subtitle"},"Sign up with your email and password"),s.a.createElement("form",{className:"sign-up-form",onSubmit:a(i),noValidate:!0},s.a.createElement("div",{className:"form-fields"},s.a.createElement("div",{className:"input-wrapper"+(t.fullName?" required":"")},s.a.createElement("div",{className:"input-img-wrapper"},s.a.createElement(u.d,{size:"20px",style:{display:"block"}})),s.a.createElement("input",{type:"text",name:"fullName",placeholder:"Full name",ref:r({required:"This field is required",maxLength:120}),spellCheck:"false"})),t.fullName&&s.a.createElement("div",{className:"error"},s.a.createElement(u.b,{size:"14px",style:{display:"inline",marginRight:"6px"}}),t.fullName.message),s.a.createElement("div",{className:"input-wrapper"+(t.email?" required":"")},s.a.createElement("div",{className:"input-img-wrapper"},s.a.createElement(u.a,{size:"20px",style:{display:"block"}})),s.a.createElement("input",{type:"text",name:"email",placeholder:"Email address",ref:r({required:"This field is required",pattern:{value:/^\S+@\S+$/i,message:"Not a valid email address"}}),spellCheck:"false"})),t.email&&s.a.createElement("div",{className:"error"},s.a.createElement(u.b,{size:"14px",style:{display:"inline",marginRight:"6px"}}),t.email.message),s.a.createElement("div",{className:"input-wrapper"+(t.password?" required":"")},s.a.createElement("div",{className:"input-img-wrapper"},s.a.createElement(u.c,{size:"20px",style:{display:"block"}})),s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",ref:r({required:"This field is required",minLength:{value:8,message:"Password must have at least 8 characters"}}),spellCheck:"false"})),t.password&&s.a.createElement("div",{className:"error"},s.a.createElement(u.b,{size:"14px",style:{display:"inline",marginRight:"6px"}}),t.password.message),s.a.createElement("div",{className:"input-wrapper"+(t.passwordRepeat?" required":"")},s.a.createElement("div",{className:"input-img-wrapper"},s.a.createElement(u.c,{size:"20px",style:{display:"block"}})),s.a.createElement("input",{type:"password",name:"passwordRepeat",placeholder:"Confirm password",ref:r({required:"This field is required",validate:function(e){return e===n("password")||"The passwords do not match"}}),spellCheck:"false"})),t.passwordRepeat&&s.a.createElement("div",{className:"error"},s.a.createElement(u.b,{size:"14px",style:{display:"inline",marginRight:"6px"}}),t.passwordRepeat.message)),s.a.createElement("button",{className:"submit-btn",type:"submit"},"SIGN UP")))}),g=(t(43),function(){var e=Object(d.a)(),a=e.handleSubmit,t=e.errors,r=e.register,n=function(){var e=Object(p.a)(o.a.mark((function e(a){var t,r,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),t=a.email,r=a.password,e.next=4,h.signInWithEmailAndPassword(t,r);case 4:s=e.sent,n=s.user,console.log(n);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"form-container"},s.a.createElement("div",{className:"form-title"},"I already have an account"),s.a.createElement("div",{className:"form-subtitle"},"Login with your details"),s.a.createElement("form",{className:"log-in-form",onSubmit:a(n),noValidate:!0},s.a.createElement("div",{className:"form-fields"},s.a.createElement("div",{className:"input-wrapper"+(t.email?" required":"")},s.a.createElement("div",{className:"input-img-wrapper"},s.a.createElement(u.a,{size:"20px",style:{display:"block"}})),s.a.createElement("input",{type:"text",name:"email",placeholder:"Email address",ref:r({required:"This field is required",pattern:{value:/^\S+@\S+$/i,message:"Not a valid email address"}}),spellCheck:"false"})),t.email&&s.a.createElement("div",{className:"error"},s.a.createElement(u.b,{size:"14px",style:{display:"inline",marginRight:"6px"}}),t.email.message),s.a.createElement("div",{className:"input-wrapper"+(t.password?" required":"")},s.a.createElement("div",{className:"input-img-wrapper"},s.a.createElement(u.c,{size:"20px",style:{display:"block"}})),s.a.createElement("input",{type:"password",name:"password",placeholder:"Password",ref:r({required:"This field is required",minLength:{value:8,message:"Password must have at least 8 characters"}}),spellCheck:"false"})),t.password&&s.a.createElement("div",{className:"error"},s.a.createElement(u.b,{size:"14px",style:{display:"inline",marginRight:"6px"}}),t.password.message)),s.a.createElement("button",{className:"submit-btn",type:"submit"},"LOG IN")))}),w=function(){return s.a.createElement("div",{className:"home"},s.a.createElement("div",{className:"home-title"},"User Presence App"),s.a.createElement("div",{className:"form-flexbox"},s.a.createElement(v,null),s.a.createElement("div",{className:"vertical-divider"}," "),s.a.createElement(g,null)))},N=(t(44),t(8)),b=Object(r.createContext)(),y=function(e){var a=Object(r.useState)(null),t=Object(N.a)(a,2),n=t[0],l=t[1];return Object(r.useEffect)((function(){return h.onAuthStateChanged((function(e){console.log("Auth state changed",e),l(e)}))}),[]),s.a.createElement(b.Provider,{value:n},e.children)},x=function(){var e=Object(r.useContext)(b),a=e.displayName,t=e.email;return s.a.createElement("div",{className:"user-home"},s.a.createElement("button",{className:"primary-btn",onClick:function(){return h.signOut()}},"SIGN OUT"),s.a.createElement("div",{className:"title"},"Welcome, ",a),s.a.createElement("div",{className:"sub"},"Email: ",t))};var k=function(){var e=Object(r.useContext)(b);return console.log("from APP render:",e),s.a.createElement(i.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(c.c,null,s.a.createElement(c.a,{exact:!0,path:"/"},e?s.a.createElement(x,null):s.a.createElement(w,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(y,null,s.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.70fdf2ed.chunk.js.map